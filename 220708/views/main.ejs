<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free board</title>
    <script>
        // Javascript 사용 공간
        // 함수 생성
        /*
            function 함수명(매개변수) {
                함수 호출 시 실행 될 코드
            }

            함수명(인자)

            location.href : url 호출
            호출 방식 : get
            get 방식에서 데이터를 보낼 때 url에 실어서
            localhost:3000?key=value&key2=value2 ... 
        */
        // 주소 이동하는 함수
        function add() {
            location.href = "/board/add"  // localhost:3000/board/add 주소로 이동
        }
        // 선택된 게시글의 정보를 담아 info 주소로 보내는 작업
        function contents(no) {
            location.href = "/board/info?_no="+no
            // alert("/board/info?_no="+no)
        }
    </script>
</head>
<body>
    <h1>게시판</h1>
    <!-- 게시글이 들어오는 공간 table 게시글 표현 
        [{No:1, title:제목, contents:내용, writer:작성자}]
    -->
    <table border="1">
        <tr>
            <th>번호</th>
            <th>제목</th>
            <th>작성자</th>
        </tr>

        <!-- 반복문을 이용하여 데이터 테이블 출력 : for문 사용 작업
            for(초기조건; 조건식; 증감식) {
                반복 실행될 코드
            } -->
        <!-- < . % . javascript code . % . > -->
        <% for(var i=0; i<content.length; i++) { %>
        <tr onclick="contents('<%=content[i].No%>')">
            <td><%=content[i].No%></td>
            <td><%=content[i].title%></td>
            <td><%=content[i].writer%></td>
        </tr>
                    <!-- 서버에서 보내온 데이터를 ejs에서 출력하기
                content = [{No:1, title:제목1, contents:내용1, writer:나},
                           {No:2, title:제목2, contents:내용2, writer:관리자}, ...]
                1이라는 숫자를 출력하려면? content[0].No -->
        <%}%>

    </table> <br>
     <!-- 글쓰기 버튼 : 클릭하면 글 쓰는 페이지로 이동 -->
     <button onclick="add()">글 쓰기</button>

</body>
</html>